import{cambiarLetraAnumero,cambiarNumeroALetra}from"./CambiarLetraANumero.js";const inversion={1:"0",0:"1"};function convertirDecimalBinADecimal(e){let t=0;for(let r=0;r<e.length;r++)t+=parseInt(e[r])*2**-(r+1);return t}function convertirOctalDecimalADecimal(e){let t=0;for(let r=0;r<e.length;r++)t+=parseInt(e[r])*8**-(r+1);return t}function convertirHexDecimalADecimal(e){let t=0;for(let r=0;r<e.length;r++){let n=e[r].toUpperCase();t+=(isNaN(n)?cambiarLetraAnumero(n):parseInt(n))*16**-(r+1)}return t}function convertirDecimalDecABin(e){let t=parseFloat("0."+e),r=20,n=[];for(;r>0&&t>0;){t*=2;let e=Math.floor(t);n.push(e),t-=e,r--}return n.join("")||"0"}function convertirDecimalDecAOctal(e){let t=parseFloat("0."+e),r=10,n=[];for(;r>0&&t>0;){t*=8;let e=Math.floor(t);n.push(e),t-=e,r--}return n.join("")||"0"}function convertirDecimalDecAHex(e){let t=parseFloat("0."+e),r=8,n=[];for(;r>0&&t>0;){t*=16;let e=Math.floor(t);e>9&&(e=cambiarNumeroALetra(e)),n.push(e),t-=Math.floor(t),r--}return n.join("")||"0"}export function convertirBinADec(e,t){let r=0,n=0,o=e.length-1;for(let t=0;t<e.length;t++)r+=parseInt(e[t])*2**o,o-=1;return t&&t.length>0&&(n=convertirDecimalBinADecimal(t)),(r+n).toString().replace(".",",")}export function convertirBinAOctal(e,t){for(;e.length%3!=0;)e="0"+e;let r=[];for(let t=0;t<e.length;t+=3)r.push(e.slice(t,t+3));let n=[],o=!1;for(let e of r){let t=parseInt(convertirBinADec(e,""));(0!==t||o)&&(n.push(t),o=!0)}let i=n.join("")||"0";if(t&&t.length>0){for(;t.length%3!=0;)t+="0";let e=[];for(let r=0;r<t.length;r+=3)e.push(t.slice(r,r+3));i+=","+e.map((e=>parseInt(convertirBinADec(e,"")))).join("")}return i}export function convertirBinAHex(e,t){for(;e.length%4!=0;)e="0"+e;let r=[];for(let t=0;t<e.length;t+=4)r.push(e.slice(t,t+4));let n=[],o=!1;for(let e of r){let t=parseInt(convertirBinADec(e,"")),r=t>=10?cambiarNumeroALetra(t):t.toString();(0!==t||o)&&(n.push(r),o=!0)}let i=n.join("")||"0";if(t&&t.length>0){for(;t.length%4!=0;)t+="0";let e=[];for(let r=0;r<t.length;r+=4)e.push(t.slice(r,r+4));i+=","+e.map((e=>{let t=parseInt(convertirBinADec(e,""));return t>=10?cambiarNumeroALetra(t):t.toString()})).join("")}return i}export function convertirOctalADec(e,t){let r=0,n=0,o=e.length-1;for(let t=0;t<e.length;t++)r+=parseInt(e[t])*8**o,o-=1;return t&&t.length>0&&(n=convertirOctalDecimalADecimal(t)),(r+n).toString().replace(".",",")}export function convertirOctalABin(e,t){let r=e.split("").map((e=>convertirDecABin(parseInt(e),"").padStart(3,"0"))).join("").replace(/^0+(?!$)/,"");if(t&&t.length>0){r+=","+t.split("").map((e=>convertirDecABin(parseInt(e),"").padStart(3,"0"))).join("")}return r}export function convertirOctalAHex(e,t){const r=convertirOctalABin(e,t),[n,o]=r.includes(",")?r.split(","):[r,""];return convertirBinAHex(n,o)}export function convertirHexADec(e,t){let r=0,n=0,o=e.length-1;for(let t=0;t<e.length;t++){let n=e[t].toUpperCase();r+=(isNaN(n)?cambiarLetraAnumero(n):parseInt(n))*16**o,o-=1}return t&&t.length>0&&(n=convertirHexDecimalADecimal(t)),(r+n).toString().replace(".",",")}export function convertirHexABin(e,t){let r=e.split("").map((e=>convertirDecABin(isNaN(e)?cambiarLetraAnumero(e.toUpperCase()):parseInt(e),"").padStart(4,"0"))).join("").replace(/^0+(?!$)/,"");if(t&&t.length>0){r+=","+t.split("").map((e=>convertirDecABin(isNaN(e)?cambiarLetraAnumero(e.toUpperCase()):parseInt(e),"").padStart(4,"0"))).join("")}return r}export function convertirHexAOctal(e,t){const r=convertirHexABin(e,t),[n,o]=r.includes(",")?r.split(","):[r,""];return convertirBinAOctal(n,o)}export function convertirDecABin(e,t){let r=parseInt(e);let n=[];for(0===r&&n.push("0");r>0;)n.push(r%2),r=Math.floor(r/2);n.reverse();let o=n.join("");return t&&t.length>0&&(o+=","+convertirDecimalDecABin(t)),o}export function convertirDecAOctal(e,t){let r=parseInt(e);let n=[];for(0===r&&n.push("0");r>0;)n.push(r%8),r=Math.floor(r/8);n.reverse();let o=n.join("");return t&&t.length>0&&(o+=","+convertirDecimalDecAOctal(t)),o}export function convertirDecAHex(e,t){let r=parseInt(e);let n=[];for(0===r&&n.push("0");r>0;){let e=r%16;n.push(e>9?cambiarNumeroALetra(e):e.toString()),r=Math.floor(r/16)}n.reverse();let o=n.join("");return t&&t.length>0&&(o+=","+convertirDecimalDecAHex(t)),o}export function calcularComplemento1y2(e){let t=e.split("").map((e=>inversion[e])),r=[...t],n=!0;for(let e=r.length-1;e>=0;e--)n&&("0"===r[e]?(r[e]=inversion[r[e]],n=!1):r[e]=inversion[r[e]]);return{solucionA1:t.join(""),solucionA2:r.join("")}}